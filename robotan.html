<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>AI Robot Level 5</title>
<style>
body{
  margin:0;
  background:#000;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
  overflow:hidden;
  font-family:Arial, sans-serif;
}
.robot{
  position:relative;
  width:260px;
  height:300px;
  background:rgba(0,80,140,0.35);
  backdrop-filter:blur(10px);
  border:2px solid #00aaff55;
  border-radius:30px;
  box-shadow:0 0 35px #00aaff88 inset, 0 0 80px #0088ff;
  transition:0.4s;
}
.eye{
  position:absolute;
  top:60px;
  width:60px;
  height:35px;
  background:#00c8ff;
  border-radius:50px;
  box-shadow:0 0 25px #00c8ff;
  animation:idleGlow 3s infinite;
}
.eye.left{ left:45px; }
.eye.right{ right:45px; }
.mouth{
  position:absolute;
  bottom:55px;
  left:50%;
  transform:translateX(-50%);
  width:120px;
  height:35px;
  background:#00aaff;
  border-radius:0 0 50px 50px;
  box-shadow:0 0 25px #00aaff;
  transition:0.15s;
}
@keyframes idleGlow{
  0%{box-shadow:0 0 15px #00c8ff;}
  50%{box-shadow:0 0 30px #00e0ff;}
  100%{box-shadow:0 0 15px #00c8ff;}
}
</style>
</head>
<body>
<div class="robot" id="robot">
  <div class="eye left"></div>
  <div class="eye right"></div>
  <div class="mouth"></div>
</div>
<script>
let robot=document.getElementById("robot");
let eyes=document.querySelectorAll(".eye");
let mouth=document.querySelector(".mouth");
let lastFace=Date.now();
let faceNear=false;
let audioCtx=new (window.AudioContext||window.webkitAudioContext)();
let analyser=audioCtx.createAnalyser();
analyser.fftSize=256;
let dataArray=new Uint8Array(analyser.frequencyBinCount);
function smartBlink(){
  let blinkSpeed=faceNear?1800:3500;
  eyes.forEach(e=>e.style.height="10px");
  setTimeout(()=>eyes.forEach(e=>e.style.height="35px"),150);
  if(Math.random()< (faceNear?0.4:0.15)){
    setTimeout(()=>{
      eyes.forEach(e=>e.style.height="10px");
      setTimeout(()=>eyes.forEach(e=>e.style.height="35px"),150);
    },300);
  }
  setTimeout(smartBlink, Math.random()*blinkSpeed+1500);
}
smartBlink();
function premiumSpeak(text, emotion="normal"){
  let utter=new SpeechSynthesisUtterance(text);
  utter.pitch=emotion=="happy"?1.3:emotion=="angry"?0.7:emotion=="sad"?0.6:1;
  utter.rate=emotion=="angry"?1.3:emotion=="happy"?1.15:1;
  const voices=speechSynthesis.getVoices();
  utter.voice=voices.find(v=>v.name.includes("Google"));
  speechSynthesis.speak(utter);
}
function lipSync(){
  requestAnimationFrame(lipSync);
  analyser.getByteFrequencyData(dataArray);
  let sum=0;
  for(let i=0;i<dataArray.length;i++) sum+=dataArray[i];
  let avg=sum/dataArray.length;
  if(avg<10){mouth.style.height="10px";}
  else if(avg<30){mouth.style.height="25px";}
  else if(avg<60){mouth.style.height="45px";}
  else{mouth.style.height="65px";}
}
lipSync();
</script>
</body>
</html>
